<Application x:Class="Showcase.WPF.DragDrop.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:local="clr-namespace:Showcase.WPF.DragDrop"
             StartupUri="MainWindow.xaml">

  <Application.Resources>

    <ResourceDictionary>

      <Style x:Key="ShowcaseTabItemStyle" TargetType="{x:Type TabItem}">
        <Setter Property="Background" Value="Transparent" />
        <Setter Property="BorderThickness" Value="0" />
        <Setter Property="Margin" Value="0" />
        <Setter Property="Padding" Value="0" />
        <Setter Property="Width" Value="120" />
        <Setter Property="Template">
          <Setter.Value>
            <ControlTemplate TargetType="{x:Type TabItem}">
              <Grid x:Name="PART_Grid"
                    Background="{TemplateBinding Background}"
                    SnapsToDevicePixels="True"
                    Margin="0">
                <TextBlock Name="PART_Text"
                           Margin="0"
                           Padding="10"
                           FontSize="14"
                           TextWrapping="NoWrap"
                           TextTrimming="CharacterEllipsis"
                           Text="{TemplateBinding Header}"
                           VerticalAlignment="Center" />
                <Rectangle x:Name="PART_Selector"
                           HorizontalAlignment="Left"
                           Width="4"
                           Visibility="Collapsed"
                           Fill="LawnGreen" />
              </Grid>
              <ControlTemplate.Triggers>
                <Trigger Property="IsSelected" Value="True">
                  <Trigger.Setters>
                    <Setter Property="Background" Value="Gray" />
                    <Setter TargetName="PART_Text" Property="Foreground" Value="White" />
                    <Setter TargetName="PART_Selector" Property="Visibility" Value="Visible" />
                  </Trigger.Setters>
                </Trigger>
                <Trigger SourceName="PART_Grid" Property="IsMouseOver" Value="True">
                  <Trigger.Setters>
                    <Setter Property="Background" Value="#A5A5A5" />
                  </Trigger.Setters>
                </Trigger>
<!--                <MultiTrigger>-->
<!--                  <MultiTrigger.Conditions>-->
<!--                    <Condition Property="IsSelected" Value="True" />-->
<!--                    <Condition Property="IsMouseOver" Value="True" />-->
<!--                  </MultiTrigger.Conditions>-->
<!--                  <Setter TargetName="PART_Grid" Property="Background" Value="#A5A5A5" />-->
<!--                </MultiTrigger>-->
              </ControlTemplate.Triggers>
            </ControlTemplate>
          </Setter.Value>
        </Setter>
      </Style>

      <Style x:Key="ShowcaseTabControlStyle" TargetType="{x:Type TabControl}">
        <Setter Property="TabStripPlacement" Value="Left" />
        <Setter Property="BorderThickness" Value="0" />
        <Setter Property="Margin" Value="0" />
        <Setter Property="Padding" Value="0" />
        <Setter Property="ItemContainerStyle" Value="{StaticResource ShowcaseTabItemStyle}" />
        <Setter Property="Template">
          <Setter.Value>
            <ControlTemplate TargetType="{x:Type TabControl}">
              <DockPanel LastChildFill="True">
                <WrapPanel x:Name="HeaderPanel"
                           Orientation="Vertical"
                           DockPanel.Dock="Left"
                           Background="Silver"
                           Panel.ZIndex="1"
                           IsItemsHost="True"
                           KeyboardNavigation.TabIndex="1" />
                <Border x:Name="ContentPanel"
                        Background="{TemplateBinding Background}"
                        BorderBrush="{TemplateBinding BorderBrush}"
                        BorderThickness="{TemplateBinding BorderThickness}"
                        KeyboardNavigation.DirectionalNavigation="Contained"
                        KeyboardNavigation.TabIndex="2"
                        KeyboardNavigation.TabNavigation="Local"
                        SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}">
                  <ContentPresenter x:Name="PART_SelectedContentHost"
                                    Margin="{TemplateBinding Padding}"
                                    ContentSource="SelectedContent"
                                    SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />
                </Border>
              </DockPanel>
              <ControlTemplate.Triggers>
                <Trigger Property="TabStripPlacement" Value="Top">
                  <Setter TargetName="HeaderPanel" Property="DockPanel.Dock" Value="Top" />
                  <Setter TargetName="HeaderPanel" Property="Orientation" Value="Horizontal" />
                </Trigger>
              </ControlTemplate.Triggers>
            </ControlTemplate>
          </Setter.Value>
        </Setter>
      </Style>

      <Style x:Key="DefaultTextBlockStyle" TargetType="{x:Type TextBlock}">
        <Setter Property="Margin" Value="4" />
        <Setter Property="FontSize" Value="14" />
        <Setter Property="TextWrapping" Value="Wrap" />
      </Style>

      <Style x:Key="DefaultListBoxStyle" TargetType="{x:Type ListBox}">
        <Setter Property="Margin" Value="4" />
        <Setter Property="Height" Value="300" />
        <Setter Property="SelectionMode" Value="Extended" />
      </Style>

    </ResourceDictionary>

  </Application.Resources>

</Application>